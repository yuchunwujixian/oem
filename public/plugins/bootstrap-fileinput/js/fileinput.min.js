/*
 * bootstrap-fileinput v4.3.6
 * http://plugins.krajee.com/file-input
 *
 * Author: Kartik Visweswaran
 * Copyright: 2014 - 2017, Kartik Visweswaran, Krajee.com
 *
 * Licensed under the BSD 3-Clause
 * https://github.com/kartik-v/bootstrap-fileinput/blob/master/LICENSE.md
 */
(function(a){if(typeof define==="function"&&define.amd){define(["jquery"],a)}else{if(typeof module==="object"&&module.exports){module.exports=a(require("jquery"))}else{a(window.jQuery)}}}(function(S){S.fn.fileinputLocales={};S.fn.fileinputThemes={};var j,n,d,N,O,m,al,l,q,R,t,aj,H,an,J,s,c,b,L,C,F,af,Q,e,T,u,aq,E,v,ar,ae,K,x,P,ao,aa,ah,ag,z,o,X,ac,W,ab,h,k,M,U,V,Z,a,ad,w,ai,Y,ap,ak,A,I,y,D,B,f,g,p,i,am,G,r;j=".fileinput";n="kvFileinputModal";d=".file-preview-frame:visible";N='style="width:{width};height:{height};"';O='<param name="controller" value="true" />\n<param name="allowFullScreen" value="true" />\n<param name="allowScriptAccess" value="always" />\n<param name="autoPlay" value="false" />\n<param name="autoStart" value="false" />\n<param name="quality" value="high" />\n';m='<div class="file-preview-other">\n<span class="{previewFileIconClass}">{previewFileIcon}</span>\n</div>';al=window.URL||window.webkitURL;l=function(at,av,au){return at!==undefined&&(au?at===av:at.match(av))};q=function(at){if(navigator.appName!=="Microsoft Internet Explorer"){return false}if(at===10){return new RegExp("msie\\s"+at,"i").test(navigator.userAgent)}var av=document.createElement("div"),au;av.innerHTML="<!--[if IE "+at+"]> <i></i> <![endif]-->";au=av.getElementsByTagName("i").length;document.body.appendChild(av);av.parentNode.removeChild(av);return au};R=function(au,aw,ax,at){var av=at?aw:aw.split(" ").join(j+" ")+j;au.off(av).on(av,ax)};t={data:{},init:function(au){var at=au.initialPreview,av=au.id;if(at.length>0&&!I(at)){at=at.split(au.initialPreviewDelimiter)}t.data[av]={content:at,config:au.initialPreviewConfig,tags:au.initialPreviewThumbTags,delimiter:au.initialPreviewDelimiter,previewFileType:au.initialPreviewFileType,previewAsData:au.initialPreviewAsData,template:au.previewGenericTemplate,showZoom:au.fileActionSettings.showZoom,showDrag:au.fileActionSettings.showDrag,getSize:function(aw){return au._getSize(aw)},parseTemplate:function(aB,az,ax,aD,aA,aE,ay,aC){var aw=" file-preview-initial";return au._generatePreviewTemplate(aB,az,ax,aD,aA,false,null,aw,aE,ay,aC)},msg:function(aw){return au._getMsgSelected(aw)},initId:au.previewInitId,footer:au._getLayoutTemplate("footer").replace(/\{progress}/g,au._renderThumbProgress()),isDelete:au.initialPreviewShowDelete,caption:au.initialCaption,actions:function(ax,aB,aw,aC,aA,ay,az){return au._renderFileActions(ax,aB,aw,aC,aA,ay,az,true)}}},fetch:function(at){return t.data[at].content.filter(function(au){return au!==null})},count:function(au,at){return !!t.data[au]&&!!t.data[au].content?(at?t.data[au].content.length:t.fetch(au).length):0},get:function(au,aA,aH){var aw="init_"+aA,az=t.data[au],ax=az.config[aA],aC=az.content[aA],aD=az.initId+"-"+aw,ay,at,aE,aG,av,aF,aB=y("previewAsData",ax,az.previewAsData);aH=aH===undefined?true:aH;if(!aC){return""}aE=y("type",ax,az.previewFileType||"generic");av=y("filename",ax,y("caption",ax));aF=y("filetype",ax,aE);aG=t.footer(au,aA,aH,(ax&&ax.size||null));if(aB){ay=az.parseTemplate(aE,aC,av,aF,aD,aG,aw)}else{ay=az.parseTemplate("generic",aC,av,aF,aD,aG,aw,aE).replace(/\{content}/g,az.content[aA])}if(az.tags.length&&az.tags[aA]){ay=f(ay,az.tags[aA])}if(!A(ax)&&!A(ax.frameAttr)){at=S(document.createElement("div")).html(ay);at.find(".file-preview-initial").attr(ax.frameAttr);ay=at.html();at.remove()}return ay},add:function(az,ax,aw,av,at){var ay=S.extend(true,{},t.data[az]),au;if(!I(ax)){ax=ax.split(ay.delimiter)}if(at){au=ay.content.push(ax)-1;ay.config[au]=aw;ay.tags[au]=av}else{au=ax.length-1;ay.content=ax;ay.config=aw;ay.tags=av}t.data[az]=ay;return au},set:function(aA,ay,aw,av,at){var az=S.extend(true,{},t.data[aA]),ax,au;if(!ay||!ay.length){return}if(!I(ay)){ay=ay.split(az.delimiter)}au=ay.filter(function(aB){return aB!==null});if(!au.length){return}if(az.content===undefined){az.content=[]}if(az.config===undefined){az.config=[]}if(az.tags===undefined){az.tags=[]}if(at){for(ax=0;ax<ay.length;ax++){if(ay[ax]){az.content.push(ay[ax])}}for(ax=0;ax<aw.length;ax++){if(aw[ax]){az.config.push(aw[ax])}}for(ax=0;ax<av.length;ax++){if(av[ax]){az.tags.push(av[ax])}}}else{az.content=ay;az.config=aw;az.tags=av}t.data[aA]=az},unset:function(av,au){var at=t.count(av.id);if(!at){return}if(at===1){t.data[av.id].content=[];t.data[av.id].config=[];t.data[av.id].tags=[];av.initialPreview=[];av.initialPreviewConfig=[];av.initialPreviewThumbTags=[];return}t.data[av.id].content[au]=null;t.data[av.id].config[au]=null;t.data[av.id].tags[au]=null},out:function(ay){var aw="",ax=t.data[ay],au,at=t.count(ay,true);if(at===0){return{content:"",caption:""}}for(var av=0;av<at;av++){aw+=t.get(ay,av)}au=ax.msg(t.count(ay));return{content:'<div class="file-initial-thumbs">'+aw+"</div>",caption:au}},footer:function(au,aC,aG,aI){var aB=t.data[au];aG=aG===undefined?true:aG;if(!aB||!aB.config||aB.config.length===0||A(aB.config[aC])){return""}var ax=aB.config[aC],aH=y("caption",ax),av=y("width",ax,"auto"),at=y("url",ax,false),aF=y("key",ax,null),aA=y("showDelete",ax,true),aD=y("showZoom",ax,aB.showZoom),aw=y("showDrag",ax,aB.showDrag),az=(at===false)&&aG,ay=aB.isDelete?aB.actions(false,aA,aD,aw,az,at,aF):"",aE=aB.footer.replace(/\{actions}/g,ay);return aE.replace(/\{caption}/g,aH).replace(/\{size}/g,aB.getSize(aI)).replace(/\{width}/g,av).replace(/\{indicator}/g,"").replace(/\{indicatorTitle}/g,"")}};aj=function(at,au){au=au||0;if(typeof at==="number"){return at}if(typeof at==="string"){at=parseFloat(at)}return isNaN(at)?au:at};H=function(){return !!(window.File&&window.FileReader)};an=function(){var at=document.createElement("div");return !q(9)&&(at.draggable!==undefined||(at.ondragstart!==undefined&&at.ondrop!==undefined))};J=function(){return H()&&window.FormData};s=function(au,at){au.removeClass(at).addClass(at)};Z={showRemove:true,showUpload:true,showZoom:true,showDrag:true,removeIcon:'<i class="glyphicon glyphicon-trash text-danger"></i>',removeClass:"btn btn-xs btn-default",removeTitle:"Remove file",uploadIcon:'<i class="glyphicon glyphicon-upload text-info"></i>',uploadClass:"btn btn-xs btn-default",uploadTitle:"Upload file",zoomIcon:'<i class="glyphicon glyphicon-zoom-in"></i>',zoomClass:"btn btn-xs btn-default",zoomTitle:"View Details",dragIcon:'<i class="glyphicon glyphicon-menu-hamburger"></i>',dragClass:"text-info",dragTitle:"Move / Rearrange",dragSettings:{},indicatorNew:'<i class="glyphicon glyphicon-hand-down text-warning"></i>',indicatorSuccess:'<i class="glyphicon glyphicon-ok-sign text-success"></i>',indicatorError:'<i class="glyphicon glyphicon-exclamation-sign text-danger"></i>',indicatorLoading:'<i class="glyphicon glyphicon-hand-up text-muted"></i>',indicatorNewTitle:"Not uploaded yet",indicatorSuccessTitle:"Uploaded",indicatorErrorTitle:"Upload Error",indicatorLoadingTitle:"Uploading ..."};c='{preview}\n<div class="kv-upload-progress hide"></div>\n<div class="input-group {class}">\n   {caption}\n   <div class="input-group-btn">\n       {remove}\n       {cancel}\n       {upload}\n       {browse}\n   </div>\n</div>';b='{preview}\n<div class="kv-upload-progress hide"></div>\n{remove}\n{cancel}\n{upload}\n{browse}\n';L='<div class="file-preview {class}">\n    {close}    <div class="{dropClass}">\n    <div class="file-preview-thumbnails">\n    </div>\n    <div class="clearfix"></div>    <div class="file-preview-status text-center text-success"></div>\n    <div class="kv-fileinput-error"></div>\n    </div>\n</div>';F='<div class="close fileinput-remove">&times;</div>\n';C='<i class="glyphicon glyphicon-file kv-caption-icon"></i>';af='<div tabindex="500" class="form-control file-caption {class}">\n   <div class="file-caption-name"></div>\n</div>\n';Q='<button type="{type}" tabindex="500" title="{title}" class="{css}" {status}>{icon} {label}</button>';e='<a href="{href}" tabindex="500" title="{title}" class="{css}" {status}>{icon} {label}</a>';T='<div tabindex="500" class="{css}" {status}>{icon} {label}</div>';u='<div id="'+n+'" class="file-zoom-dialog modal fade" tabindex="-1" aria-labelledby="'+n+'Label"></div>';aq='<div class="modal-dialog modal-lg" role="document">\n  <div class="modal-content">\n    <div class="modal-header">\n      <div class="kv-zoom-actions pull-right">{toggleheader}{fullscreen}{borderless}{close}</div>\n      <h3 class="modal-title">{heading} <small><span class="kv-zoom-title"></span></small></h3>\n    </div>\n    <div class="modal-body">\n      <div class="floating-buttons"></div>\n      <div class="kv-zoom-body file-zoom-content"></div>\n{prev} {next}\n    </div>\n  </div>\n</div>\n';E='<div class="progress">\n    <div class="{class}" role="progressbar" aria-valuenow="{percent}" aria-valuemin="0" aria-valuemax="100" style="width:{percent}%;">\n        {percent}%\n     </div>\n</div>';v=" <br><samp>({sizeText})</samp>";ar='<div class="file-thumbnail-footer">\n    <div class="file-footer-caption" title="{caption}">{caption}{size}</div>\n    {progress} {actions}\n</div>';ae='<div class="file-actions">\n    <div class="file-footer-buttons">\n        {upload} {delete} {zoom} {other}    </div>\n    {drag}\n    <div class="file-upload-indicator" title="{indicatorTitle}">{indicator}</div>\n    <div class="clearfix"></div>\n</div>';K='<button type="button" class="kv-file-remove {removeClass}" title="{removeTitle}" {dataUrl}{dataKey}>{removeIcon}</button>\n';x='<button type="button" class="kv-file-upload {uploadClass}" title="{uploadTitle}">{uploadIcon}</button>';P='<button type="button" class="kv-file-zoom {zoomClass}" title="{zoomTitle}">{zoomIcon}</button>';ao='<span class="file-drag-handle {dragClass}" title="{dragTitle}">{dragIcon}</span>';aa='<div class="file-preview-frame{frameClass}" id="{previewId}" data-fileindex="{fileindex}" data-template="{template}"';ah=aa+'><div class="kv-file-content">\n';ag=aa+' title="{caption}" '+N+'><div class="kv-file-content">\n';z="</div>{footer}\n</div>\n";o="{content}\n";X='<div class="kv-preview-data file-preview-html" title="{caption}" '+N+">{data}</div>\n";ac='<img src="{data}" class="kv-preview-data file-preview-image" title="{caption}" alt="{caption}" '+N+">\n";W='<textarea class="kv-preview-data file-preview-text" title="{caption}" readonly '+N+">{data}</textarea>\n";ab='<video class="kv-preview-data" width="{width}" height="{height}" controls>\n<source src="{data}" type="{type}">\n'+m+"\n</video>\n";h='<audio class="kv-preview-data" controls>\n<source src="{data}" type="{type}">\n'+m+"\n</audio>\n";k='<object class="kv-preview-data file-object" type="application/x-shockwave-flash" width="{width}" height="{height}" data="{data}">\n'+O+" "+m+"\n</object>\n";M='<object class="kv-preview-data file-object" data="{data}" type="{type}" width="{width}" height="{height}">\n<param name="movie" value="{caption}" />\n'+O+" "+m+"\n</object>\n";U='<embed class="kv-preview-data" src="{data}" width="{width}" height="{height}" type="application/pdf">\n';V='<div class="kv-preview-data file-preview-other-frame">\n'+m+"\n</div>\n";a={main1:c,main2:b,preview:L,close:F,fileIcon:C,caption:af,modalMain:u,modal:aq,progress:E,size:v,footer:ar,actions:ae,actionDelete:K,actionUpload:x,actionZoom:P,actionDrag:ao,btnDefault:Q,btnLink:e,btnBrowse:T};ad={generic:ah+o+z,html:ah+X+z,image:ah+ac+z,text:ah+W+z,video:ag+ab+z,audio:ag+h+z,flash:ag+k+z,object:ag+M+z,pdf:ag+U+z,other:ag+V+z};ai=["image","html","text","video","audio","flash","pdf","object"];ap={image:{width:"auto",height:"160px"},html:{width:"213px",height:"160px"},text:{width:"213px",height:"160px"},video:{width:"213px",height:"160px"},audio:{width:"213px",height:"80px"},flash:{width:"213px",height:"160px"},object:{width:"160px",height:"160px"},pdf:{width:"160px",height:"160px"},other:{width:"160px",height:"160px"}};w={image:{width:"auto",height:"auto","max-width":"100%","max-height":"100%"},html:{width:"100%",height:"100%","min-height":"480px"},text:{width:"100%",height:"100%","min-height":"480px"},video:{width:"auto",height:"100%","max-width":"100%"},audio:{width:"100%",height:"30px"},flash:{width:"auto",height:"480px"},object:{width:"auto",height:"100%","min-height":"480px"},pdf:{width:"100%",height:"100%","min-height":"480px"},other:{width:"auto",height:"100%","min-height":"480px"}};ak={image:function(au,at){return l(au,"image.*")||l(at,/\.(gif|png|jpe?g)$/i)},html:function(au,at){return l(au,"text/html")||l(at,/\.(htm|html)$/i)},text:function(au,at){return l(au,"text.*")||l(at,/\.(xml|javascript)$/i)||l(at,/\.(txt|md|csv|nfo|ini|json|php|js|css)$/i)},video:function(au,at){return l(au,"video.*")&&(l(au,/(ogg|mp4|mp?g|mov|webm|3gp)$/i)||l(at,/\.(og?|mp4|webm|mp?g|mov|3gp)$/i))},audio:function(au,at){return l(au,"audio.*")&&(l(at,/(ogg|mp3|mp?g|wav)$/i)||l(at,/\.(og?|mp3|mp?g|wav)$/i))},flash:function(au,at){return l(au,"application/x-shockwave-flash",true)||l(at,/\.(swf)$/i)},pdf:function(au,at){return l(au,"application/pdf",true)||l(at,/\.(pdf)$/i)},object:function(){return true},other:function(){return true}};A=function(au,at){return au===undefined||au===null||au.length===0||(at&&S.trim(au)==="")};I=function(at){return Array.isArray(at)||Object.prototype.toString.call(at)==="[object Array]"};y=function(av,au,at){at=at||"";return(au&&typeof au==="object"&&av in au)?au[av]:at};Y=function(at,av,au){return(A(at)||A(at[av]))?au:S(at[av])};D=function(){return Math.round(new Date().getTime()+(Math.random()*100))};B=function(at){return at.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")};f=function(av,au){var at=av;if(!au){return at}S.each(au,function(aw,ax){if(typeof ax==="function"){ax=ax()}at=at.split(aw).join(ax)});return at};g=function(au){var at=au.is("img")?au.attr("src"):au.find("source").attr("src");al.revokeObjectURL(at)};p=function(at){var au=at.lastIndexOf("/");if(au===-1){au=at.lastIndexOf("\\")}return at.split(at.substring(au,au+1)).pop()};i=function(){return document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement};am=function(au){var at=document,av=at.documentElement;if(av&&au&&!i()){if(av.requestFullscreen){av.requestFullscreen()}else{if(av.msRequestFullscreen){av.msRequestFullscreen()}else{if(av.mozRequestFullScreen){av.mozRequestFullScreen()}else{if(av.webkitRequestFullscreen){av.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT)}}}}}else{if(at.exitFullscreen){at.exitFullscreen()}else{if(at.msExitFullscreen){at.msExitFullscreen()}else{if(at.mozCancelFullScreen){at.mozCancelFullScreen()}else{if(at.webkitExitFullscreen){at.webkitExitFullscreen()}}}}}};G=function(at,aw,av){if(av>=at.length){var au=av-at.length;while((au--)+1){at.push(undefined)}}at.splice(av,0,at.splice(aw,1)[0]);return at};r=function(av,au){var at=this;at.$element=S(av);if(!at._validate()){return}at.isPreviewable=H();at.isIE9=q(9);at.isIE10=q(10);if(at.isPreviewable||at.isIE9){at._init(au);at._listen()}else{at.$element.removeClass("file-loading")}};r.prototype={constructor:r,_init:function(au){var at=this,aw=at.$element,av;S.each(au,function(ax,ay){switch(ax){case"minFileCount":case"maxFileCount":case"maxFileSize":at[ax]=aj(ay);break;default:at[ax]=ay;break}});at.fileInputCleared=false;at.fileBatchCompleted=true;if(!at.isPreviewable){at.showPreview=false}at.uploadFileAttr=!A(aw.attr("name"))?aw.attr("name"):"file_data";at.reader=null;at.formdata={};at.clearStack();at.uploadCount=0;at.uploadStatus={};at.uploadLog=[];at.uploadAsyncCount=0;at.loadedImages=[];at.totalImagesCount=0;at.ajaxRequests=[];at.isError=false;at.ajaxAborted=false;at.cancelling=false;av=at._getLayoutTemplate("progress");at.progressTemplate=av.replace("{class}",at.progressClass);at.progressCompleteTemplate=av.replace("{class}",at.progressCompleteClass);at.progressErrorTemplate=av.replace("{class}",at.progressErrorClass);at.dropZoneEnabled=an()&&at.dropZoneEnabled;at.isDisabled=at.$element.attr("disabled")||at.$element.attr("readonly");at.isUploadable=J()&&!A(at.uploadUrl);at.isClickable=at.browseOnZoneClick&&at.showPreview&&(at.isUploadable&&at.dropZoneEnabled||!A(at.defaultPreviewContent));at.slug=typeof au.slugCallback==="function"?au.slugCallback:at._slugDefault;at.mainTemplate=at.showCaption?at._getLayoutTemplate("main1"):at._getLayoutTemplate("main2");at.captionTemplate=at._getLayoutTemplate("caption");at.previewGenericTemplate=at._getPreviewTemplate("generic");if(at.resizeImage&&(at.maxImageWidth||at.maxImageHeight)){at.imageCanvas=document.createElement("canvas");at.imageCanvasContext=at.imageCanvas.getContext("2d")}if(A(at.$element.attr("id"))){at.$element.attr("id",D())}if(at.$container===undefined){at.$container=at._createContainer()}else{at._refreshContainer()}at.$dropZone=at.$container.find(".file-drop-zone");at.$progress=at.$container.find(".kv-upload-progress");at.$btnUpload=at.$container.find(".fileinput-upload");at.$captionContainer=Y(au,"elCaptionContainer",at.$container.find(".file-caption"));at.$caption=Y(au,"elCaptionText",at.$container.find(".file-caption-name"));at.$previewContainer=Y(au,"elPreviewContainer",at.$container.find(".file-preview"));at.$preview=Y(au,"elPreviewImage",at.$container.find(".file-preview-thumbnails"));at.$previewStatus=Y(au,"elPreviewStatus",at.$container.find(".file-preview-status"));at.$errorContainer=Y(au,"elErrorContainer",at.$previewContainer.find(".kv-fileinput-error"));if(!A(at.msgErrorClass)){s(at.$errorContainer,at.msgErrorClass)}at.$errorContainer.hide();at.fileActionSettings=S.extend(true,Z,au.fileActionSettings);at.previewInitId="preview-"+D();at.id=at.$element.attr("id");t.init(at);at._initPreview(true);at._initPreviewActions();at.options=au;at._setFileDropZoneTitle();at.$element.removeClass("file-loading");if(at.$element.attr("disabled")){at.disable()}at._initZoom()},_log:function(au){var at=this,av=at.$element.attr("id");if(av){au='"'+av+'": '+au}if(typeof window.console.log!=="undefined"){window.console.log(au)}else{window.alert(au)}},_validate:function(){var au=this,at=au.$element.attr("type")==="file";if(!at){au._log('The input "type" must be set to "file" for initializing the "bootstrap-fileinput" plugin.')}return at},_errorsExist:function(){var at=this,au;if(at.$errorContainer.find("li").length){return true}au=S(document.createElement("div")).html(at.$errorContainer.html());au.find("span.kv-error-close").remove();au.find("ul").remove();return S.trim(au.text()).length?true:false},_errorHandler:function(at,av){var au=this,aw=at.target.error;if(aw.code===aw.NOT_FOUND_ERR){au._showError(au.msgFileNotFound.replace("{name}",av))}else{if(aw.code===aw.SECURITY_ERR){au._showError(au.msgFileSecured.replace("{name}",av))}else{if(aw.code===aw.NOT_READABLE_ERR){au._showError(au.msgFileNotReadable.replace("{name}",av))}else{if(aw.code===aw.ABORT_ERR){au._showError(au.msgFilePreviewAborted.replace("{name}",av))}else{au._showError(au.msgFilePreviewError.replace("{name}",av))}}}}},_addError:function(av){var au=this,at=au.$errorContainer;if(av&&at.length){at.html(au.errorCloseButton+av);R(at.find(".kv-error-close"),"click",function(){at.fadeOut("slow")})}},_resetErrors:function(av){var au=this,at=au.$errorContainer;au.isError=false;au.$container.removeClass("has-error");at.html("");if(av){at.fadeOut("slow")}else{at.hide()}},_showFolderError:function(av){var au=this,at=au.$errorContainer,aw;if(!av){return}aw=au.msgFoldersNotAllowed.replace(/\{n}/g,av);au._addError(aw);s(au.$container,"has-error");at.fadeIn(800);au._raise("filefoldererror",[av,aw])},_showUploadError:function(az,ay,aw){var au=this,at=au.$errorContainer,av=aw||"fileuploaderror",ax=ay&&ay.id?'<li data-file-id="'+ay.id+'">'+az+"</li>":"<li>"+az+"</li>";if(at.find("ul").length===0){au._addError("<ul>"+ax+"</ul>")}else{at.find("ul").append(ax)}at.fadeIn(800);au._raise(av,[ay,az]);au.$container.removeClass("file-input-new");s(au.$container,"has-error");return true},_showError:function(ay,ax,aw){var au=this,at=au.$errorContainer,av=aw||"fileerror";ax=ax||{};ax.reader=au.reader;au._addError(ay);at.fadeIn(800);au._raise(av,[ax,ay]);if(!au.isUploadable){au._clearFileInput()}au.$container.removeClass("file-input-new");s(au.$container,"has-error");au.$btnUpload.attr("disabled",true);return true},_noFilesError:function(ax){var au=this,av=au.minFileCount>1?au.filePlural:au.fileSingle,aw=au.msgFilesTooLess.replace("{n}",au.minFileCount).replace("{files}",av),at=au.$errorContainer;au._addError(aw);au.isError=true;au._updateFileDetails(0);at.fadeIn(800);au._raise("fileerror",[ax,aw]);au._clearFileInput();s(au.$container,"has-error")},_parseError:function(aw,ax,az){var au=this,av=S.trim(ax+""),at=av.slice(-1)==="."?"":".",ay=aw.responseJSON!==undefined&&aw.responseJSON.error!==undefined?aw.responseJSON.error:aw.responseText;if(au.cancelling&&au.msgUploadAborted){av=au.msgUploadAborted}if(au.showAjaxErrorDetails&&ay){ay=S.trim(ay.replace(/\n\s*\n/g,"\n"));ay=ay.length>0?"<pre>"+ay+"</pre>":"";av+=at+ay}else{av+=at}au.cancelling=false;return az?"<b>"+az+": </b>"+av:av},_parseFileType:function(aw){var au=this,ay,ax,at,av;for(av=0;av<ai.length;av+=1){at=ai[av];ay=y(at,au.fileTypeSettings,ak[at]);ax=ay(aw.type,aw.name)?at:"";if(!A(ax)){return ax}}return"other"},_getPreviewIcon:function(aw){var at=this,av,au=null;if(aw&&aw.indexOf(".")>-1){av=aw.split(".").pop();if(at.previewFileIconSettings&&at.previewFileIconSettings[av]){au=at.previewFileIconSettings[av]}if(at.previewFileExtSettings){S.each(at.previewFileExtSettings,function(ax,ay){if(at.previewFileIconSettings[ax]&&ay(av)){au=at.previewFileIconSettings[ax];return}})}}return au},_parseFilePreviewIcon:function(au,aw){var at=this,av=at._getPreviewIcon(aw)||at.previewFileIcon;if(au.indexOf("{previewFileIcon}")>-1){au=au.replace(/\{previewFileIconClass}/g,at.previewFileIconClass).replace(/\{previewFileIcon}/g,av)}return au},_raise:function(au,aw){var at=this,av=S.Event(au);if(aw!==undefined){at.$element.trigger(av,aw)}else{at.$element.trigger(av)}if(av.isDefaultPrevented()){return false}if(!av.result){return av.result}switch(au){case"filebatchuploadcomplete":case"filebatchuploadsuccess":case"fileuploaded":case"fileclear":case"filecleared":case"filereset":case"fileerror":case"filefoldererror":case"fileuploaderror":case"filebatchuploaderror":case"filedeleteerror":case"filecustomerror":case"filesuccessremove":break;default:at.ajaxAborted=av.result;break}return true},_listenFullScreen:function(at){var au=this,av=au.$modal,aw,ax;if(!av||!av.length){return}aw=av&&av.find(".btn-fullscreen");ax=av&&av.find(".btn-borderless");if(!aw.length||!ax.length){return}aw.removeClass("active").attr("aria-pressed","false");ax.removeClass("active").attr("aria-pressed","false");if(at){aw.addClass("active").attr("aria-pressed","true")}else{ax.addClass("active").attr("aria-pressed","true")}if(av.hasClass("file-zoom-fullscreen")){au._maximizeZoomDialog()}else{if(at){au._maximizeZoomDialog()}else{ax.removeClass("active").attr("aria-pressed","false")}}},_listen:function(){var au=this,av=au.$element,at=av.closest("form"),aw=au.$container;R(av,"change",S.proxy(au._change,au));if(au.showBrowse){R(au.$btnFile,"click",S.proxy(au._browse,au))}R(at,"reset",S.proxy(au.reset,au));R(aw.find(".fileinput-remove:not([disabled])"),"click",S.proxy(au.clear,au));R(aw.find(".fileinput-cancel"),"click",S.proxy(au.cancel,au));au._initDragDrop();if(!au.isUploadable){R(at,"submit",S.proxy(au._submitForm,au))}R(au.$container.find(".fileinput-upload"),"click",S.proxy(au._uploadClick,au));R(S(window),"resize",function(){au._listenFullScreen(screen.width===window.innerWidth&&screen.height===window.innerHeight)});R(S(document),"webkitfullscreenchange mozfullscreenchange fullscreenchange MSFullscreenChange",function(){au._listenFullScreen(i())});au._initClickable()},_initClickable:function(){var at=this,au;if(!at.isClickable){return}au=at.isUploadable?at.$dropZone:at.$preview.find(".file-default-preview");s(au,"clickable");au.attr("tabindex",-1);R(au,"click",function(aw){var av=S(aw.target);if(!av.parents(".file-preview-thumbnails").length||av.parents(".file-default-preview").length){at.$element.trigger("click");au.blur()}})},_initDragDrop:function(){var at=this,au=at.$dropZone;if(at.isUploadable&&at.dropZoneEnabled&&at.showPreview){R(au,"dragenter dragover",S.proxy(at._zoneDragEnter,at));R(au,"dragleave",S.proxy(at._zoneDragLeave,at));R(au,"drop",S.proxy(at._zoneDrop,at));R(S(document),"dragenter dragover drop",at._zoneDragDropInit)}},_zoneDragDropInit:function(at){at.stopPropagation();at.preventDefault()},_zoneDragEnter:function(av){var at=this,au=S.inArray("Files",av.originalEvent.dataTransfer.types)>-1;at._zoneDragDropInit(av);if(at.isDisabled||!au){av.originalEvent.dataTransfer.effectAllowed="none";av.originalEvent.dataTransfer.dropEffect="none";return}s(at.$dropZone,"file-highlighted")},_zoneDragLeave:function(au){var at=this;at._zoneDragDropInit(au);if(at.isDisabled){return}at.$dropZone.removeClass("file-highlighted")},_zoneDrop:function(au){var at=this;au.preventDefault();if(at.isDisabled||A(au.originalEvent.dataTransfer.files)){return}at._change(au,"dragdrop");at.$dropZone.removeClass("file-highlighted")},_uploadClick:function(ax){var au=this,aw=au.$container.find(".fileinput-upload"),at,av=!aw.hasClass("disabled")&&A(aw.attr("disabled"));if(ax&&ax.isDefaultPrevented()){return}if(!au.isUploadable){if(av&&aw.attr("type")!=="submit"){at=aw.closest("form");if(at.length){at.trigger("submit")}ax.preventDefault()}return}ax.preventDefault();if(av){au.upload()}},_submitForm:function(){var at=this,au=at.$element,av=au.get(0).files;if(av&&at.minFileCount>0&&at._getFileCount(av.length)<at.minFileCount){at._noFilesError({});return false}return !at._abort({})},_clearPreview:function(){var at=this,au=!at.showUploadedThumbs?at.$preview.find(d):at.$preview.find(d+":not(.file-preview-success)");au.remove();if(!at.$preview.find(d).length||!at.showPreview){at._resetUpload()}at._validateDefaultPreview()},_initSortable:function(){var at=this,aw=at.$preview,au,av;if(!window.KvSortable){return}au=aw.find(".file-initial-thumbs");av={handle:".drag-handle-init",dataIdAttr:"data-preview-id",draggable:".file-preview-initial",onSort:function(aB){var aC=aB.oldIndex,az=aB.newIndex,ay,aA;at.initialPreview=G(at.initialPreview,aC,az);at.initialPreviewConfig=G(at.initialPreviewConfig,aC,az);t.init(at);for(var ax=0;ax<at.initialPreviewConfig.length;ax++){if(at.initialPreviewConfig[ax]!==null){ay=at.initialPreviewConfig[ax].key;aA=S(".kv-file-remove[data-key='"+ay+"']").closest(d);aA.attr("data-fileindex","init_"+ax).data("fileindex","init_"+ax)}}at._raise("filesorted",{previewId:S(aB.item).attr("id"),oldIndex:aC,newIndex:az,stack:at.initialPreviewConfig})}};if(au.data("kvsortable")){au.kvsortable("destroy")}S.extend(true,av,at.fileActionSettings.dragSettings);au.kvsortable(av)},_initPreview:function(aw){var at=this,av=at.initialCaption||"",au;if(!t.count(at.id)){at._clearPreview();if(aw){at._setCaption(av)}else{at._initCaption()}return}au=t.out(at.id);av=aw&&at.initialCaption?at.initialCaption:au.caption;at.$preview.html(au.content);at._setCaption(av);at._initSortable();if(!A(au.content)){at.$container.removeClass("file-input-new")}},_getZoomButton:function(aw){var at=this,au=at.previewZoomButtonIcons[aw],av=at.previewZoomButtonClasses[aw],ay=' title="'+(at.previewZoomButtonTitles[aw]||"")+'" ',ax=ay+(aw==="close"?' data-dismiss="modal" aria-hidden="true"':"");if(aw==="fullscreen"||aw==="borderless"||aw==="toggleheader"){ax+=' data-toggle="button" aria-pressed="false" autocomplete="off"'}return'<button type="button" class="'+av+" btn-"+aw+'"'+ax+">"+au+"</button>"},_getModalContent:function(){var at=this;return at._getLayoutTemplate("modal").replace(/\{heading}/g,at.msgZoomModalHeading).replace(/\{prev}/g,at._getZoomButton("prev")).replace(/\{next}/g,at._getZoomButton("next")).replace(/\{toggleheader}/g,at._getZoomButton("toggleheader")).replace(/\{fullscreen}/g,at._getZoomButton("fullscreen")).replace(/\{borderless}/g,at._getZoomButton("borderless")).replace(/\{close}/g,at._getZoomButton("close"))},_listenModalEvent:function(av){var at=this,au=at.$modal,aw=function(ax){return{sourceEvent:ax,previewId:au.data("previewId"),modal:au}};au.on(av+".bs.modal",function(ay){var ax=au.find(".btn-fullscreen"),az=au.find(".btn-borderless");at._raise("filezoom"+av,aw(ay));if(av==="shown"){az.removeClass("active").attr("aria-pressed","false");ax.removeClass("active").attr("aria-pressed","false");if(au.hasClass("file-zoom-fullscreen")){at._maximizeZoomDialog();if(i()){ax.addClass("active").attr("aria-pressed","true")}else{az.addClass("active").attr("aria-pressed","true")}}}})},_initZoom:function(){var av=this,aw,au=av._getLayoutTemplate("modalMain"),at="#"+n;av.$modal=S(at);if(!av.$modal||!av.$modal.length){aw=S(document.createElement("div")).html(au).insertAfter(av.$container);av.$modal=S("#"+n).insertBefore(aw);aw.remove()}av.$modal.html(av._getModalContent());av._listenModalEvent("show");av._listenModalEvent("shown");av._listenModalEvent("hide");av._listenModalEvent("hidden");av._listenModalEvent("loaded")},_initZoomButtons:function(){var az=this,aw=az.$modal.data("previewId")||"",aA,ay,av=az.$preview.find(d).toArray(),at=av.length,ax=az.$modal.find(".btn-prev"),au=az.$modal.find(".btn-next");if(!at){return}aA=S(av[0]);ay=S(av[at-1]);ax.removeAttr("disabled");au.removeAttr("disabled");if(aA.length&&aA.attr("id")===aw){ax.attr("disabled",true)}if(ay.length&&ay.attr("id")===aw){au.attr("disabled",true)}},_maximizeZoomDialog:function(){var av=this,aw=av.$modal,au=aw.find(".modal-header:visible"),at=aw.find(".modal-footer:visible"),ay=aw.find(".modal-body"),ax=S(window).height(),az=0;aw.addClass("file-zoom-fullscreen");if(au&&au.length){ax-=au.outerHeight(true)}if(at&&at.length){ax-=at.outerHeight(true)}if(ay&&ay.length){az=ay.outerHeight(true)-ay.height();ax-=az}aw.find(".kv-zoom-body").height(ax)},_resizeZoomDialog:function(av){var at=this,au=at.$modal,aw=au.find(".btn-fullscreen"),ax=au.find(".btn-borderless");if(au.hasClass("file-zoom-fullscreen")){am(false);if(!av){if(!aw.hasClass("active")){au.removeClass("file-zoom-fullscreen");at.$modal.find(".kv-zoom-body").css("height",at.zoomModalHeight)}else{aw.removeClass("active").attr("aria-pressed","false")}}else{if(!aw.hasClass("active")){au.removeClass("file-zoom-fullscreen");at._resizeZoomDialog(true);if(ax.hasClass("active")){ax.removeClass("active").attr("aria-pressed","false")}}}}else{if(!av){at._maximizeZoomDialog();return}am(true)}au.focus()},_setZoomContent:function(aE,ax){var aF=this,aw,at,aC,aL,aH,az,aK,au=aE.attr("id"),aB=aF.$modal,aI=aB.find(".btn-prev"),aJ=aB.find(".btn-next"),ay,aA=aB.find(".btn-fullscreen"),aG=aB.find(".btn-borderless"),aD=aB.find(".btn-toggleheader"),av=aE.parent().find(".kv-zoom-cache #zoom-"+au);at=av.data("template")||"generic";aw=av.find(".kv-file-content");aC=aw.length?aw.html():"";aL=av.find(".file-footer-caption").text()||"";aB.find(".kv-zoom-title").html(aL);aH=aB.find(".kv-zoom-body");if(ax){ay=aH.clone().insertAfter(aH);aH.html(aC).hide();ay.fadeOut("fast",function(){aH.fadeIn("fast");ay.remove()})}else{aH.html(aC)}aK=aF.previewZoomSettings[at];if(aK){az=aH.find(".kv-preview-data");s(az,"file-zoom-detail");S.each(aK,function(aM,aN){az.css(aM,aN);if((az.attr("width")&&aM==="width")||(az.attr("height")&&aM==="height")){az.removeAttr(aM)}})}aB.data("previewId",au);R(aI,"click",function(){aF._zoomSlideShow("prev",au)});R(aJ,"click",function(){aF._zoomSlideShow("next",au)});R(aA,"click",function(){aF._resizeZoomDialog(true)});R(aG,"click",function(){aF._resizeZoomDialog(false)});R(aD,"click",function(){var aM=aB.find(".modal-header"),aQ=aB.find(".modal-body .floating-buttons"),aO,aP=aM.find(".kv-zoom-actions"),aN=function(aR){var aT=aF.$modal.find(".kv-zoom-body"),aS=aF.zoomModalHeight;if(aB.hasClass("file-zoom-fullscreen")){aS=aT.outerHeight(true);if(!aR){aS=aS-aM.outerHeight(true)}}aT.css("height",aR?aS+aR:aS)};if(aM.is(":visible")){aO=aM.outerHeight(true);aM.slideUp("slow",function(){aP.find(".btn").appendTo(aQ);aN(aO)})}else{aQ.find(".btn").appendTo(aP);aM.slideDown("slow",function(){aN()})}aB.focus()});R(aB,"keydown",function(aN){var aM=aN.which||aN.keyCode;if(aM===37&&!aI.attr("disabled")){aF._zoomSlideShow("prev",au)}if(aM===39&&!aJ.attr("disabled")){aF._zoomSlideShow("next",au)}})},_zoomPreview:function(au){var at=this,av;if(!au.length){throw"Cannot zoom to detailed preview!"}at.$modal.html(at._getModalContent());av=au.closest(d);at._setZoomContent(av);at.$modal.modal("show");at._initZoomButtons()},_zoomSlideShow:function(at,ax){var aA=this,az=aA.$modal.find(".kv-zoom-actions .btn-"+at),aB,av,ay=aA.$preview.find(d).toArray(),aw=ay.length,au;if(az.attr("disabled")){return}for(av=0;av<aw;av++){if(S(ay[av]).attr("id")===ax){au=at==="prev"?av-1:av+1;break}}if(au<0||au>=aw||!ay[au]){return}aB=S(ay[au]);if(aB.length){aA._setZoomContent(aB,true)}aA._initZoomButtons();aA._raise("filezoom"+at,{previewId:ax,modal:aA.$modal})},_initZoomButton:function(){var at=this;at.$preview.find(".kv-file-zoom").each(function(){var au=S(this);R(au,"click",function(){at._zoomPreview(au)})})},_initPreviewActions:function(){var au=this,at=au.deleteExtraData||{},av=function(){var aw=au.isUploadable?t.count(au.id):au.$element.get(0).files.length;if(au.$preview.find(".kv-file-remove:visible").length===0&&!aw){au.reset();au.initialCaption=""}};au._initZoomButton();au.$preview.find(".kv-file-remove:visible").each(function(){var aF=S(this),aD=aF.data("url")||au.deleteUrl,ax=aF.data("key");if(A(aD)||ax===undefined){return}var ay=aF.closest(d),aw=t.data[au.id],aB,aC,aE=ay.data("fileindex"),az,aA;aE=parseInt(aE.replace("init_",""));az=A(aw.config)&&A(aw.config[aE])?null:aw.config[aE];aA=A(az)||A(az.extra)?at:az.extra;if(typeof aA==="function"){aA=aA()}aC={id:aF.attr("id"),key:ax,extra:aA};aB=S.extend(true,{},{url:aD,type:"POST",dataType:"json",data:S.extend(true,{},{key:ax},aA),beforeSend:function(aG){au.ajaxAborted=false;au._raise("filepredelete",[ax,aG,aA]);if(au.ajaxAborted){aG.abort()}else{s(ay,"file-uploading");s(aF,"disabled")}},success:function(aI,aK,aH){var aJ,aG;if(A(aI)||A(aI.error)){t.init(au);aE=parseInt((ay.data("fileindex")).replace("init_",""));t.unset(au,aE);aJ=t.count(au.id);aG=aJ>0?au._getMsgSelected(aJ):"";au._raise("filedeleted",[ax,aH,aA]);au._setCaption(aG)}else{aC.jqXHR=aH;aC.response=aI;au._showError(aI.error,aC,"filedeleteerror");ay.removeClass("file-uploading");aF.removeClass("disabled");av();return}ay.removeClass("file-uploading").addClass("file-deleted");ay.fadeOut("slow",function(){var aL=ay.parent().find(".kv-zoom-cache #zoom-"+ay.attr("id"));if(aL.length){aL.parent().remove()}au._clearObjects(ay);ay.remove();av();if(!aJ&&au.getFileStack().length===0){au._setCaption("");au.reset()}})},error:function(aH,aJ,aI){var aG=au._parseError(aH,aI);aC.jqXHR=aH;aC.response={};au._showError(aG,aC,"filedeleteerror");ay.removeClass("file-uploading");av()}},au.ajaxDeleteSettings);R(aF,"click",function(){if(!au._validateMinCount()){return false}S.ajax(aB)})})},_clearObjects:function(at){at.find("video audio").each(function(){this.pause();S(this).remove()});at.find("img object div").each(function(){S(this).remove()})},_clearFileInput:function(){var av=this,aw=av.$element,ax,at,au;av.fileInputCleared=true;if(A(aw.val())){return}if(av.isIE9||av.isIE10){ax=aw.closest("form");at=S(document.createElement("form"));au=S(document.createElement("div"));aw.before(au);if(ax.length){ax.after(at)}else{au.after(at)}at.append(aw).trigger("reset");au.before(aw).remove();at.remove()}else{aw.val("")}},_resetUpload:function(){var at=this;at.uploadCache={content:[],config:[],tags:[],append:true};at.uploadCount=0;at.uploadStatus={};at.uploadLog=[];at.uploadAsyncCount=0;at.loadedImages=[];at.totalImagesCount=0;at.$btnUpload.removeAttr("disabled");at._setProgress(0);s(at.$progress,"hide");at._resetErrors(false);at.ajaxAborted=false;at.ajaxRequests=[];at._resetCanvas()},_resetCanvas:function(){var at=this;if(at.canvas&&at.imageCanvasContext){at.imageCanvasContext.clearRect(0,0,at.canvas.width,at.canvas.height)}},_hasInitialPreview:function(){var at=this;return !at.overwriteInitial&&t.count(at.id)},_resetPreview:function(){var at=this,au,av;if(t.count(at.id)){au=t.out(at.id);at.$preview.html(au.content);av=at.initialCaption?at.initialCaption:au.caption;at._setCaption(av)}else{at._clearPreview();at._initCaption()}if(at.showPreview){at._initZoom();at._initSortable()}},_clearDefaultPreview:function(){var at=this;at.$preview.find(".file-default-preview").remove()},_validateDefaultPreview:function(){var at=this;if(!at.showPreview||A(at.defaultPreviewContent)){return}at.$preview.html('<div class="file-default-preview">'+at.defaultPreviewContent+"</div>");at.$container.removeClass("file-input-new");at._initClickable()},_resetPreviewThumbs:function(av){var at=this,au;if(av){at._clearPreview();at.clearStack();return}if(at._hasInitialPreview()){au=t.out(at.id);at.$preview.html(au.content);at._setCaption(au.caption);at._initPreviewActions()}else{at._clearPreview()}},_getLayoutTemplate:function(au){var at=this,av=y(au,at.layoutTemplates,a[au]);if(A(at.customLayoutTags)){return av}return f(av,at.customLayoutTags)},_getPreviewTemplate:function(au){var at=this,av=y(au,at.previewTemplates,ad[au]);if(A(at.customPreviewTags)){return av}return f(av,at.customPreviewTags)},_getOutData:function(av,au,aw){var at=this;av=av||{};au=au||{};aw=aw||at.filestack.slice(0)||{};return{form:at.formdata,files:aw,filenames:at.filenames,filescount:at.getFilesCount(),extra:at._getExtraData(),response:au,reader:at.reader,jqXHR:av}},_getMsgSelected:function(av){var at=this,au=av===1?at.fileSingle:at.filePlural;return av>0?at.msgSelected.replace("{n}",av).replace("{files}",au):at.msgNoFilesSelected},_getThumbs:function(at){at=at||"";return this.$preview.find(d+":not(.file-preview-initial)"+at)},_getExtraData:function(at,av){var au=this,aw=au.uploadExtraData;if(typeof au.uploadExtraData==="function"){aw=au.uploadExtraData(at,av)}return aw},_initXhr:function(av,at,aw){var au=this;if(av.upload){av.upload.addEventListener("progress",function(az){var aA=0,ay=az.total,ax=az.loaded||az.position;if(az.lengthComputable){aA=Math.floor(ax/ay*100)}if(at){au._setAsyncUploadStatus(at,aA,aw)}else{au._setProgress(aA)}},false)}return av},_ajaxSubmit:function(ax,az,aA,av,at,aw){var au=this,ay;au._raise("filepreajax",[at,aw]);au._uploadExtra(at,aw);ay=S.extend(true,{},{xhr:function(){var aB=S.ajaxSettings.xhr();return au._initXhr(aB,at,au.getFileStack().length)},url:au.uploadUrl,type:"POST",dataType:"json",data:au.formdata,cache:false,processData:false,contentType:false,beforeSend:ax,success:az,complete:aA,error:av},au.ajaxSettings);au.ajaxRequests.push(S.ajax(ay))},_initUploadSuccess:function(ax,aE,at){var aC=this,au,az,aA,aF,aB,av,aD,ay,aw=function(aH,aG){if(!(aC[aH] instanceof Array)){aC[aH]=[]}if(aG&&aG.length){aC[aH]=aC[aH].concat(aG)}};if(!aC.showPreview||typeof ax!=="object"||S.isEmptyObject(ax)){return}if(ax.initialPreview!==undefined&&ax.initialPreview.length>0){aC.hasInitData=true;aB=ax.initialPreview||[];av=ax.initialPreviewConfig||[];aD=ax.initialPreviewThumbTags||[];au=ax.append===undefined||ax.append?true:false;if(aB.length>0&&!I(aB)){aB=aB.split(aC.initialPreviewDelimiter)}aC.overwriteInitial=false;aw("initialPreview",aB);aw("initialPreviewConfig",av);aw("initialPreviewThumbTags",aD);if(aE!==undefined){if(!at){aA=t.add(aC.id,aB,av[0],aD[0],au);az=t.get(aC.id,aA,false);aF=S(az).hide();aE.after(aF).fadeOut("slow",function(){aF.fadeIn("slow").css("display:inline-block");aC._initPreviewActions();aC._clearFileInput();aE.remove()})}else{ay=aE.attr("data-fileindex");aC.uploadCache.content[ay]=aB[0];aC.uploadCache.config[ay]=av[0]||[];aC.uploadCache.tags[ay]=aD[0]||[];aC.uploadCache.append=au}}else{t.set(aC.id,aB,av,aD,au);aC._initPreview();aC._initPreviewActions()}}},_initSuccessThumbs:function(){var at=this;if(!at.showPreview){return}at._getThumbs(".file-preview-success:visible").each(function(){var av=S(this),au=av.find(".kv-file-remove");au.removeAttr("disabled");R(au,"click",function(){var ax=av.attr("id"),aw=at._raise("filesuccessremove",[ax,av.data("fileindex")]);g(av);if(aw===false){return}av.fadeOut("slow",function(){var ay=av.parent().find(".kv-zoom-cache #zoom-"+ax);if(ay.length){ay.parent().remove()}av.remove();if(!at.$preview.find(d).length){at.reset()}})})})},_checkAsyncComplete:function(){var au=this,at,av;for(av=0;av<au.filestack.length;av++){if(au.filestack[av]){at=au.previewInitId+"-"+av;if(S.inArray(at,au.uploadLog)===-1){return false}}}return(au.uploadAsyncCount===au.uploadLog.length)},_uploadExtra:function(at,av){var au=this,aw=au._getExtraData(at,av);if(aw.length===0){return}S.each(aw,function(ax,ay){au.formdata.append(ax,ay)})},_uploadSingle:function(aG,ax,aw){var aE=this,aL=aE.getFileStack().length,aD=new FormData(),aK,at=aE.previewInitId+"-"+aG,aA,aF,aC,aJ,av=aE.filestack.length>0||!S.isEmptyObject(aE.uploadExtraData),ay,aB,au,aI,az,aH={id:at,index:aG};aE.formdata=aD;if(aE.showPreview){aA=S("#"+at+":not(.file-preview-initial)");aC=aA.find(".kv-file-upload");aJ=aA.find(".kv-file-remove");S("#"+at).find(".file-thumb-progress").removeClass("hide")}if(aL===0||!av||(aC&&aC.hasClass("disabled"))||aE._abort(aH)){return}az=function(aN,aM){aE.updateStack(aN,undefined);aE.uploadLog.push(aM);if(aE._checkAsyncComplete()){aE.fileBatchCompleted=true}};aF=function(){var aM=aE.uploadCache;if(!aE.fileBatchCompleted){return}setTimeout(function(){if(aE.showPreview){t.set(aE.id,aM.content,aM.config,aM.tags,aM.append);if(aE.hasInitData){aE._initPreview();aE._initPreviewActions()}}aE.unlock();aE._clearFileInput();aE._raise("filebatchuploadcomplete",[aE.filestack,aE._getExtraData()]);aE.uploadCount=0;aE.uploadStatus={};aE.uploadLog=[];aE._setProgress(101)},100)};ay=function(aM){aK=aE._getOutData(aM);aE.fileBatchCompleted=false;if(aE.showPreview){if(!aA.hasClass("file-preview-success")){aE._setThumbStatus(aA,"Loading");s(aA,"file-uploading")}aC.attr("disabled",true);aJ.attr("disabled",true)}if(!aw){aE.lock()}aE._raise("filepreupload",[aK,at,aG]);S.extend(true,aH,aK);if(aE._abort(aH)){aM.abort();aE._setProgressCancelled()}};aB=function(aO,aP,aN){var aM=aE.showPreview&&aA.attr("id")?aA.attr("id"):at;aK=aE._getOutData(aN,aO);S.extend(true,aH,aK);setTimeout(function(){if(A(aO)||A(aO.error)){if(aE.showPreview){aE._setThumbStatus(aA,"Success");aC.hide();aE._initUploadSuccess(aO,aA,aw)}aE._raise("fileuploaded",[aK,aM,aG]);if(!aw){aE.updateStack(aG,undefined)}else{az(aG,aM)}}else{aE._showUploadError(aO.error,aH);aE._setPreviewError(aA,aG);if(aw){az(aG,aM)}}},100)};au=function(){setTimeout(function(){if(aE.showPreview){aC.removeAttr("disabled");aJ.removeAttr("disabled");aA.removeClass("file-uploading");aE._setProgress(101,S("#"+at).find(".file-thumb-progress"))}if(!aw){aE.unlock(false);aE._clearFileInput()}else{aF()}aE._initSuccessThumbs()},100)};aI=function(aN,aP,aO){var aM=aE._parseError(aN,aO,(aw?ax[aG].name:null));setTimeout(function(){if(aw){az(aG,at)}aE.uploadStatus[at]=100;aE._setPreviewError(aA,aG);S.extend(true,aH,aE._getOutData(aN));aE._showUploadError(aM,aH)},100)};aD.append(aE.uploadFileAttr,ax[aG],aE.filenames[aG]);aD.append("file_id",aG);aE._ajaxSubmit(ay,aB,au,aI,at,aG)},_uploadBatch:function(){var aC=this,at=aC.filestack,aA=at.length,ax={},ay,aB,az,aw,au=aC.filestack.length>0||!S.isEmptyObject(aC.uploadExtraData),av;aC.formdata=new FormData();if(aA===0||!au||aC._abort(ax)){return}av=function(){S.each(at,function(aD){aC.updateStack(aD,undefined)});aC._clearFileInput()};ay=function(aD){aC.lock();var aE=aC._getOutData(aD);if(aC.showPreview){aC._getThumbs().each(function(){var aH=S(this),aF=aH.find(".kv-file-upload"),aG=aH.find(".kv-file-remove");if(!aH.hasClass("file-preview-success")){aC._setThumbStatus(aH,"Loading");s(aH,"file-uploading")}aF.attr("disabled",true);aG.attr("disabled",true)})}aC._raise("filebatchpreupload",[aE]);if(aC._abort(aE)){aD.abort();aC._setProgressCancelled()}};aB=function(aH,aJ,aG){var aI=aC._getOutData(aG,aH),aE=aC._getThumbs(":not(.file-preview-error)"),aD=0,aF=A(aH)||A(aH.errorkeys)?[]:aH.errorkeys;if(A(aH)||A(aH.error)){aC._raise("filebatchuploadsuccess",[aI]);av();if(aC.showPreview){aE.each(function(){var aL=S(this),aK=aL.find(".kv-file-upload");aL.find(".kv-file-upload").hide();aC._setThumbStatus(aL,"Success");aL.removeClass("file-uploading");aK.removeAttr("disabled")});aC._initUploadSuccess(aH)}else{aC.reset()}}else{if(aC.showPreview){aE.each(function(){var aM=S(this),aL=aM.find(".kv-file-remove"),aK=aM.find(".kv-file-upload");aM.removeClass("file-uploading");aK.removeAttr("disabled");aL.removeAttr("disabled");if(aF.length===0){aC._setPreviewError(aM);return}if(S.inArray(aD,aF)!==-1){aC._setPreviewError(aM)}else{aM.find(".kv-file-upload").hide();aC._setThumbStatus(aM,"Success");aC.updateStack(aD,undefined)}aD++});aC._initUploadSuccess(aH)}aC._showUploadError(aH.error,aI,"filebatchuploaderror")}};aw=function(){aC._setProgress(101);aC.unlock();aC._initSuccessThumbs();aC._clearFileInput();aC._raise("filebatchuploadcomplete",[aC.filestack,aC._getExtraData()])};az=function(aE,aH,aG){var aF=aC._getOutData(aE),aD=aC._parseError(aE,aG);aC._showUploadError(aD,aF,"filebatchuploaderror");aC.uploadFileCount=aA-1;if(!aC.showPreview){return}aC._getThumbs().each(function(){var aJ=S(this),aI=aJ.attr("data-fileindex");aJ.removeClass("file-uploading");if(aC.filestack[aI]!==undefined){aC._setPreviewError(aJ)}});aC._getThumbs().removeClass("file-uploading");aC._getThumbs(" .kv-file-upload").removeAttr("disabled");aC._getThumbs(" .kv-file-delete").removeAttr("disabled")};S.each(at,function(aD,aE){if(!A(at[aD])){aC.formdata.append(aC.uploadFileAttr,aE,aC.filenames[aD])}});aC._ajaxSubmit(ay,aB,aw,az)},_uploadExtraOnly:function(){var au=this,ax={},av,aw,ay,at;au.formdata=new FormData();if(au._abort(ax)){return}av=function(az){au.lock();var aA=au._getOutData(az);au._raise("filebatchpreupload",[aA]);au._setProgress(50);ax.data=aA;ax.xhr=az;if(au._abort(ax)){az.abort();au._setProgressCancelled()}};aw=function(aA,aC,az){var aB=au._getOutData(az,aA);if(A(aA)||A(aA.error)){au._raise("filebatchuploadsuccess",[aB]);au._clearFileInput();au._initUploadSuccess(aA)}else{au._showUploadError(aA.error,aB,"filebatchuploaderror")}};ay=function(){au._setProgress(101);au.unlock();au._clearFileInput();au._raise("filebatchuploadcomplete",[au.filestack,au._getExtraData()])};at=function(aA,aD,aC){var aB=au._getOutData(aA),az=au._parseError(aA,aC);ax.data=aB;au._showUploadError(az,aB,"filebatchuploaderror")};au._ajaxSubmit(av,aw,ay,at)},_initFileActions:function(){var at=this;if(!at.showPreview){return}at._initZoomButton();at.$preview.find(".kv-file-remove:visible").each(function(){var ax=S(this),ay=ax.closest(d),au,aB=ay.attr("id"),az=ay.attr("data-fileindex"),aA,aw,av;R(ax,"click",function(){av=at._raise("filepreremove",[aB,az]);if(av===false||!at._validateMinCount()){return false}au=ay.hasClass("file-preview-error");g(ay);ay.fadeOut("slow",function(){var aG=ay.parent().find(".kv-zoom-cache #zoom-"+aB);if(aG.length){aG.parent().remove()}at.updateStack(az,undefined);at._clearObjects(ay);ay.remove();if(aB&&au){at.$errorContainer.find('li[data-file-id="'+aB+'"]').fadeOut("fast",function(){S(this).remove();if(!at._errorsExist()){at._resetErrors()}})}at._clearFileInput();var aE=at.getFileStack(true),aD=t.count(at.id),aC=aE.length,aF=at.showPreview&&at.$preview.find(d).length;if(aC===0&&aD===0&&!aF){at.reset()}else{aA=aD+aC;aw=aA>1?at._getMsgSelected(aA):(aE[0]?at._getFileNames()[0]:"");at._setCaption(aw)}at._raise("fileremoved",[aB,az])})})});at.$preview.find(".kv-file-upload:visible").each(function(){var au=S(this);R(au,"click",function(){var av=au.closest(d),aw=av.attr("data-fileindex");if(!av.hasClass("file-preview-error")){at._uploadSingle(aw,at.filestack,false)}})})},_hideFileIcon:function(){if(this.overwriteInitial){this.$captionContainer.find(".kv-caption-icon").hide()}},_showFileIcon:function(){this.$captionContainer.find(".kv-caption-icon").show()},_getSize:function(at){var au=this,ax=parseFloat(at);if(!at||!ax||isNaN(at)||isNaN(ax)){return au._getLayoutTemplate("size").replace("{sizeText}","0.00 KB")}var aw,az=au.fileSizeGetter,ay,av;if(typeof az==="function"){av=az(at)}else{aw=Math.floor(Math.log(ax)/Math.log(1024));ay=["B","KB","MB","GB","TB","PB","EB","ZB","YB"];av=(ax/Math.pow(1024,aw)).toFixed(2)*1+" "+ay[aw]}return au._getLayoutTemplate("size").replace("{sizeText}",av)},_generatePreviewTemplate:function(aw,aO,aL,at,au,aJ,aC,aF,aK,ay,aG){var aD=this,aB=aF||"",aI=aD.slug(aL),aM=y(aw,aD.previewSettings,ap[aw]),az,av="",aE=aK||aD._renderFileFooter(aI,aC,aM.width,aJ),aA=aD._getPreviewIcon(aL),ax=aA&&aD.preferIconicPreview,aH=aA&&aD.preferIconicZoomPreview,aN=function(aT,aR,aP){var aS=aP?"zoom-"+au:au,aQ=aD._getPreviewTemplate(aT);aQ=aD._parseFilePreviewIcon(aQ,aL);if(aT==="text"){aR=B(aR)}return aQ.replace(/\{previewId}/g,aS).replace(/\{caption}/g,aI).replace(/\{frameClass}/g,aB).replace(/\{type}/g,at).replace(/\{fileindex}/g,ay).replace(/\{width}/g,aM.width).replace(/\{height}/g,aM.height).replace(/\{footer}/g,aE).replace(/\{data}/g,aR).replace(/\{template}/g,aG||aw)};ay=ay||au.slice(au.lastIndexOf("-")+1);if(aD.fileActionSettings.showZoom){av=aN((aH?"other":aw),aO,true)}av='\n<div class="kv-zoom-cache" style="display:none">\n'+av+"\n</div>\n";az=aN((ax?"other":aw),aO);return az+av},_previewDefault:function(av,aA,aC){var aD=this,aw=aD.$preview,at=aw.find(".file-live-thumbs");if(!aD.showPreview){return}var au=av?av.name:"",aB=av?av.type:"",az,ay=aC===true&&!aD.isUploadable,ax=al.createObjectURL(av);aD._clearDefaultPreview();az=aD._generatePreviewTemplate("other",ax,au,aB,aA,ay,av.size);if(!at.length){at=S(document.createElement("div")).addClass("file-live-thumbs").appendTo(aw)}at.append("\n"+az);if(aC===true&&aD.isUploadable){aD._setThumbStatus(S("#"+aA),"Error")}},_previewFile:function(ay,av,aE,aB,ax){if(!this.showPreview){return}var aJ=this,aG=aJ._parseFileType(av),au=av?av.name:"",aI=aJ.slug(au),az=aJ.allowedPreviewTypes,aD=aJ.allowedPreviewMimeTypes,aw=aJ.$preview,aF=az&&az.indexOf(aG)>=0,at=aw.find(".file-live-thumbs"),aC=(aG==="text"||aG==="html"||aG==="image")?aE.target.result:ax,aA,aH=aD&&aD.indexOf(av.type)!==-1;if(!at.length){at=S(document.createElement("div")).addClass("file-live-thumbs").appendTo(aw)}if(aG==="html"&&aJ.purifyHtml&&window.DOMPurify){aC=window.DOMPurify.sanitize(aC)}if(aF||aH){aA=aJ._generatePreviewTemplate(aG,aC,au,av.type,aB,false,av.size);aJ._clearDefaultPreview();at.append("\n"+aA);aJ._validateImage(ay,aB,aI,av.type)}else{aJ._previewDefault(av,aB)}aJ._initSortable()},_slugDefault:function(at){return A(at)?"":String(at).replace(/[\-\[\]\/\{}:;#%=\(\)\*\+\?\\\^\$\|<>&"']/g,"_")},_readFiles:function(at){this.reader=new FileReader();var aI=this,aJ=aI.$element,aB=aI.$preview,aD=aI.reader,aG=aI.$previewContainer,aH=aI.$previewStatus,aE=aI.msgLoading,aw=aI.msgProgress,aC=aI.previewInitId,av=at.length,aA=aI.fileTypeSettings,ax=aI.filestack.length,aF,au=aI.maxFilePreviewSize&&parseFloat(aI.maxFilePreviewSize),az=aB.length&&(!au||isNaN(au)),ay=function(aP,aM,aK,aL){var aO=S.extend(true,{},aI._getOutData({},{},at),{id:aK,index:aL}),aN={id:aK,index:aL,file:aM,files:at};aI._previewDefault(aM,aK,true);if(aI.isUploadable){aI.addToStack(undefined);setTimeout(function(){aF(aL+1)},100)}aI._initFileActions();if(aI.removeFromPreviewOnError){S("#"+aK).remove()}return aI.isUploadable?aI._showUploadError(aP,aO):aI._showError(aP,aN)};aI.loadedImages=[];aI.totalImagesCount=0;S.each(at,function(aL,aK){var aM=aI.fileTypeSettings.image||ak.image;if(aM&&aM(aK.type)){aI.totalImagesCount++}});aF=function(aZ){if(A(aJ.attr("multiple"))){av=1}if(aZ>=av){if(aI.isUploadable&&aI.filestack.length>0){aI._raise("filebatchselected",[aI.getFileStack()])}else{aI._raise("filebatchselected",[at])}aG.removeClass("file-thumb-loading");aH.html("");return}var aV=ax+aZ,aL=aC+"-"+aV,aU,aX,a2=at[aZ],aR,a0=a2.name?aI.slug(a2.name):"",aT=(a2.size||0)/1000,aO,aM="",aQ=al.createObjectURL(a2),a3=0,aY,aP,a4,a1,aK=aI.allowedFileTypes,aW=A(aK)?"":aK.join(", "),aS=aI.allowedFileExtensions,aN=A(aS)?"":aS.join(", ");if(a0===false){aF(aZ+1);return}if(a0.length===0){aP=aI.msgInvalidFileName.replace("{name}",B(a2.name));aI.isError=ay(aP,a2,aL,aZ);return}if(!A(aS)){aM=new RegExp("\\.("+aS.join("|")+")$","i")}aR=aT.toFixed(2);if(aI.maxFileSize>0&&aT>aI.maxFileSize){aP=aI.msgSizeTooLarge.replace("{name}",a0).replace("{size}",aR).replace("{maxSize}",aI.maxFileSize);aI.isError=ay(aP,a2,aL,aZ);return}if(aI.minFileSize!==null&&aT<=aj(aI.minFileSize)){aP=aI.msgSizeTooSmall.replace("{name}",a0).replace("{size}",aR).replace("{minSize}",aI.minFileSize);aI.isError=ay(aP,a2,aL,aZ);return}if(!A(aK)&&I(aK)){for(aY=0;aY<aK.length;aY+=1){a4=aK[aY];aO=aA[a4];a1=(aO!==undefined&&aO(a2.type,a0));a3+=A(a1)?0:a1.length}if(a3===0){aP=aI.msgInvalidFileType.replace("{name}",a0).replace("{types}",aW);aI.isError=ay(aP,a2,aL,aZ);return}}if(a3===0&&!A(aS)&&I(aS)&&!A(aM)){a1=l(a0,aM);a3+=A(a1)?0:a1.length;if(a3===0){aP=aI.msgInvalidFileExtension.replace("{name}",a0).replace("{extensions}",aN);aI.isError=ay(aP,a2,aL,aZ);return}}if(!aI.showPreview){aI.addToStack(a2);setTimeout(function(){aF(aZ+1)},100);aI._raise("fileloaded",[a2,aL,aZ,aD]);return}if(!az&&aT>au){aI.addToStack(a2);aG.addClass("file-thumb-loading");aI._previewDefault(a2,aL);aI._initFileActions();aI._updateFileDetails(av);aF(aZ+1);return}if(aB.length&&FileReader!==undefined){aH.html(aE.replace("{index}",aZ+1).replace("{files}",av));aG.addClass("file-thumb-loading");aD.onerror=function(a5){aI._errorHandler(a5,a0)};aD.onload=function(a5){aI._previewFile(aZ,a2,a5,aL,aQ);aI._initFileActions()};aD.onloadend=function(){aP=aw.replace("{index}",aZ+1).replace("{files}",av).replace("{percent}",50).replace("{name}",a0);setTimeout(function(){aH.html(aP);aI._updateFileDetails(av);aF(aZ+1)},100);aI._raise("fileloaded",[a2,aL,aZ,aD])};aD.onprogress=function(a7){if(a7.lengthComputable){var a6=(a7.loaded/a7.total)*100,a5=Math.ceil(a6);aP=aw.replace("{index}",aZ+1).replace("{files}",av).replace("{percent}",a5).replace("{name}",a0);setTimeout(function(){aH.html(aP)},100)}};aU=y("text",aA,ak.text);aX=y("image",aA,ak.image);if(aU(a2.type,a0)){aD.readAsText(a2,aI.textEncoding)}else{if(aX(a2.type,a0)){aD.readAsDataURL(a2)}else{aD.readAsArrayBuffer(a2)}}}else{aI._previewDefault(a2,aL);setTimeout(function(){aF(aZ+1);aI._updateFileDetails(av)},100);aI._raise("fileloaded",[a2,aL,aZ,aD])}aI.addToStack(a2)};aF(0);aI._updateFileDetails(av,false)},_updateFileDetails:function(au){var aA=this,aB=aA.$element,ax=aA.getFileStack(),at=(q(9)&&p(aB.val()))||(aB[0].files[0]&&aB[0].files[0].name)||(ax.length&&ax[0].name)||"",az=aA.slug(at),av=aA.isUploadable?ax.length:au,ay=t.count(aA.id)+av,aw=av>1?aA._getMsgSelected(ay):az;if(aA.isError){aA.$previewContainer.removeClass("file-thumb-loading");aA.$previewStatus.html("");aA.$captionContainer.find(".kv-caption-icon").hide()}else{aA._showFileIcon()}aA._setCaption(aw,aA.isError);aA.$container.removeClass("file-input-new file-input-ajax-new");if(arguments.length===1){aA._raise("fileselect",[au,az])}if(t.count(aA.id)){aA._initPreviewActions()}},_setThumbStatus:function(aA,at){var au=this;if(!au.showPreview){return}var ax="indicator"+at,az=ax+"Title",aw="file-preview-"+at.toLowerCase(),ay=aA.find(".file-upload-indicator"),av=au.fileActionSettings;aA.removeClass("file-preview-success file-preview-error file-preview-loading");if(at==="Error"){aA.find(".kv-file-upload").attr("disabled",true)}if(at==="Success"){aA.find(".file-drag-handle").remove();ay.css("margin-left",0)}ay.html(av[ax]);ay.attr("title",av[az]);aA.addClass(aw)},_setProgressCancelled:function(){var at=this;at._setProgress(101,at.$progress,at.msgCancelled)},_setProgress:function(az,aw,av){var at=this,ay=Math.min(az,100),ax=ay<100?at.progressTemplate:(av?at.progressErrorTemplate:(az<=100?at.progressTemplate:at.progressCompleteTemplate)),aA=at.progressUploadThreshold;aw=aw||at.$progress;if(!A(ax)){if(aA&&ay>aA&&az<=100){var au=ax.replace("{percent}",aA).replace("{percent}",aA).replace("{percent}%",at.msgUploadThreshold);aw.html(au)}else{aw.html(ax.replace(/\{percent}/g,ay))}if(av){aw.find('[role="progressbar"]').html(av)}}},_setFileDropZoneTitle:function(){var at=this,av=at.$container.find(".file-drop-zone"),aw=at.dropZoneTitle,au;if(at.isClickable){au=A(at.$element.attr("multiple"))?at.fileSingle:at.filePlural;aw+=at.dropZoneClickTitle.replace("{files}",au)}av.find("."+at.dropZoneTitleClass).remove();if(!at.isUploadable||!at.showPreview||av.length===0||at.getFileStack().length>0||!at.dropZoneEnabled){return}if(av.find(d).length===0&&A(at.defaultPreviewContent)){av.prepend('<div class="'+at.dropZoneTitleClass+'">'+aw+"</div>")}at.$container.removeClass("file-input-new");s(at.$container,"file-input-ajax-new")},_setAsyncUploadStatus:function(at,ax,aw){var au=this,av=0;au._setProgress(ax,S("#"+at).find(".file-thumb-progress"));au.uploadStatus[at]=ax;S.each(au.uploadStatus,function(ay,az){av+=az});au._setProgress(Math.floor(av/aw))},_validateMinCount:function(){var au=this,at=au.isUploadable?au.getFileStack().length:au.$element.get(0).files.length;if(au.validateInitialCount&&au.minFileCount>0&&au._getFileCount(at-1)<au.minFileCount){au._noFilesError({});return false}return true},_getFileCount:function(av){var at=this,au=0;if(at.validateInitialCount&&!at.overwriteInitial){au=t.count(at.id);av+=au}return av},_getFileName:function(at){return at&&at.name?this.slug(at.name):undefined},_getFileNames:function(at){var au=this;return au.filenames.filter(function(av){return(at?av!==undefined:av!==undefined&&av!==null)})},_setPreviewError:function(aw,au,av){var at=this;if(au!==undefined){at.updateStack(au,av)}if(at.removeFromPreviewOnError){aw.remove()}else{at._setThumbStatus(aw,"Error")}},_checkDimensions:function(az,aC,at,aG,aw,aB,ay){var aE=this,av,aA,aF=aC==="Small"?"min":"max",ax=aE[aF+"Image"+aB],au,aD;if(A(ax)||!at.length){return}au=at[0];aA=(aB==="Width")?au.naturalWidth||au.width:au.naturalHeight||au.height;aD=aC==="Small"?aA>=ax:aA<=ax;if(aD){return}av=aE["msgImage"+aB+aC].replace("{name}",aw).replace("{size}",ax);aE._showUploadError(av,ay);aE._setPreviewError(aG,az,null)},_validateImage:function(ay,aA,au,aB){var aC=this,aw=aC.$preview,av,az,ax,aD=aw.find("#"+aA),at=aD.find("img");au=au||"Untitled";if(!at.length){return}R(at,"load",function(){az=aD.width();ax=aw.width();if(az>ax){at.css("width","100%");aD.css("width","97%")}av={ind:ay,id:aA};aC._checkDimensions(ay,"Small",at,aD,au,"Width",av);aC._checkDimensions(ay,"Small",at,aD,au,"Height",av);if(!aC.resizeImage){aC._checkDimensions(ay,"Large",at,aD,au,"Width",av);aC._checkDimensions(ay,"Large",at,aD,au,"Height",av)}aC._raise("fileimageloaded",[aA]);aC.loadedImages.push({ind:ay,img:at,thumb:aD,pid:aA,typ:aB});aC._validateAllImages()})},_validateAllImages:function(){var aB=this,ay,aw,au,aC,az,av,ax={},aA;if(aB.loadedImages.length!==aB.totalImagesCount){return}aB._raise("fileimagesloaded");if(!aB.resizeImage){return}aA=aB.isUploadable?aB._showUploadError:aB._showError;var at={val:0};for(ay=0;ay<aB.loadedImages.length;ay++){aw=aB.loadedImages[ay];au=aw.img;aC=aw.thumb;az=aw.pid;av=aw.ind;ax={id:az,index:av};if(!aB._getResizedImage(au[0],aw.typ,az,av,at,aB.loadedImages.length)){aA(aB.msgImageResizeError,ax,"fileimageresizeerror");aB._setPreviewError(aC,av)}}},_getResizedImage:function(aF,ax,aC,aA,aB,aK){var aD=this,aH=aF.naturalWidth,aE=aF.naturalHeight,az=1,aJ=aD.maxImageWidth||aH,aG=aD.maxImageHeight||aE,au=(aH&&aE),aI,av,aw=aD.imageCanvas,at=aD.imageCanvasContext;if(!au){aB.val++;if(aB.val===aK){aD._raise("fileimagesresized")}return false}if(aH===aJ&&aE===aG){aD._raise("fileimageresized",[aC,aA]);aB.val++;if(aB.val===aK){aD._raise("fileimagesresized")}return true}ax=ax||aD.resizeDefaultImageType;aI=aH>aJ;av=aE>aG;if(aD.resizePreference==="width"){az=aI?aJ/aH:(av?aG/aE:1)}else{az=av?aG/aE:(aI?aJ/aH:1)}aD._resetCanvas();aH*=az;aE*=az;aw.width=aH;aw.height=aE;try{at.drawImage(aF,0,0,aH,aE);aw.toBlob(function(aL){aD.filestack[aA]=aL;aD._raise("fileimageresized",[aC,aA]);aB.val++;if(aB.val===aK){aD._raise("fileimagesresized",[undefined,undefined])}},ax,aD.resizeQuality);return true}catch(ay){aB.val++;if(aB.val===aK){aD._raise("fileimagesresized",[undefined,undefined])}return false}},_initBrowse:function(au){var at=this;if(at.showBrowse){at.$btnFile=au.find(".btn-file");at.$btnFile.append(at.$element)}else{at.$element.hide()}},_initCaption:function(){var at=this,au=at.initialCaption||"";if(at.overwriteInitial||A(au)){at.$caption.html("");return false}at._setCaption(au);return true},_setCaption:function(ay,ax){var au=this,az,av,aA,aw,at=au.getFileStack();if(!au.$caption.length){return}if(ax){az=S("<div>"+au.msgValidationError+"</div>").text();aA=at.length;if(aA){aw=aA===1&&at[0]?au._getFileNames()[0]:au._getMsgSelected(aA)}else{aw=au._getMsgSelected(au.msgNo)}av='<span class="'+au.msgValidationErrorClass+'">'+au.msgValidationErrorIcon+(A(ay)?aw:ay)+"</span>"}else{if(A(ay)){return}az=S("<div>"+ay+"</div>").text();av=au._getLayoutTemplate("fileIcon")+az}au.$caption.html(av);au.$caption.attr("title",az);au.$caption.attr("data-thumb",az);au.$captionContainer.find(".file-caption-ellipsis").attr("title",az)},_createContainer:function(){var at=this,au=S(document.createElement("div")).attr({"class":"file-input file-input-new"}).html(at._renderMain());at.$element.before(au);at._initBrowse(au);if(at.theme){au.addClass("theme-"+at.theme)}return au},_refreshContainer:function(){var at=this,au=at.$container;au.before(at.$element);au.html(at._renderMain());at._initBrowse(au)},_renderMain:function(){var au=this,aw=(au.isUploadable&&au.dropZoneEnabled)?" file-drop-zone":"file-drop-disabled",ay=!au.showClose?"":au._getLayoutTemplate("close"),ax=!au.showPreview?"":au._getLayoutTemplate("preview").replace(/\{class}/g,au.previewClass).replace(/\{dropClass}/g,aw),av=au.isDisabled?au.captionClass+" file-caption-disabled":au.captionClass,at=au.captionTemplate.replace(/\{class}/g,av+" kv-fileinput-caption");return au.mainTemplate.replace(/\{class}/g,au.mainClass+(!au.showBrowse&&au.showCaption?" no-browse":"")).replace(/\{preview}/g,ax).replace(/\{close}/g,ay).replace(/\{caption}/g,at).replace(/\{upload}/g,au._renderButton("upload")).replace(/\{remove}/g,au._renderButton("remove")).replace(/\{cancel}/g,au._renderButton("cancel")).replace(/\{browse}/g,au._renderButton("browse"))},_renderButton:function(ax){var aB=this,at=aB._getLayoutTemplate("btnDefault"),aw=aB[ax+"Class"],az=aB[ax+"Title"],ay=aB[ax+"Icon"],aA=aB[ax+"Label"],av=aB.isDisabled?" disabled":"",au="button";switch(ax){case"remove":if(!aB.showRemove){return""}break;case"cancel":if(!aB.showCancel){return""}aw+=" hide";break;case"upload":if(!aB.showUpload){return""}if(aB.isUploadable&&!aB.isDisabled){at=aB._getLayoutTemplate("btnLink").replace("{href}",aB.uploadUrl)}else{au="submit"}break;case"browse":if(!aB.showBrowse){return""}at=aB._getLayoutTemplate("btnBrowse");break;default:return""}aw+=ax==="browse"?" btn-file":" fileinput-"+ax+" fileinput-"+ax+"-button";if(!A(aA)){aA=' <span class="'+aB.buttonLabelClass+'">'+aA+"</span>"}return at.replace("{type}",au).replace("{css}",aw).replace("{title}",az).replace("{status}",av).replace("{icon}",ay).replace("{label}",aA)},_renderThumbProgress:function(){return'<div class="file-thumb-progress hide">'+this.progressTemplate.replace(/\{percent}/g,"0")+"</div>"},_renderFileFooter:function(aE,aG,at,ax){var aF=this,au=aF.fileActionSettings,aC=au.showRemove,aw=au.showDrag,az=au.showUpload,aD=au.showZoom,av,aB=aF._getLayoutTemplate("footer"),aA=ax?au.indicatorError:au.indicatorNew,ay=ax?au.indicatorErrorTitle:au.indicatorNewTitle;aG=aF._getSize(aG);if(aF.isUploadable){av=aB.replace(/\{actions}/g,aF._renderFileActions(az,aC,aD,aw,false,false,false)).replace(/\{caption}/g,aE).replace(/\{size}/g,aG).replace(/\{width}/g,at).replace(/\{progress}/g,aF._renderThumbProgress()).replace(/\{indicator}/g,aA).replace(/\{indicatorTitle}/g,ay)}else{av=aB.replace(/\{actions}/g,aF._renderFileActions(false,false,aD,aw,false,false,false)).replace(/\{caption}/g,aE).replace(/\{size}/g,aG).replace(/\{width}/g,at).replace(/\{progress}/g,"").replace(/\{indicator}/g,aA).replace(/\{indicatorTitle}/g,ay)}av=f(av,aF.previewThumbTags);return av},_renderFileActions:function(aH,aF,aD,az,aw,ax,aM,aI){if(!aH&&!aF&&!aD&&!az){return""}var aG=this,at=ax===false?"":' data-url="'+ax+'"',aJ=aM===false?"":' data-key="'+aM+'"',av="",ay="",aE="",aA="",aB,aL=aG._getLayoutTemplate("actions"),aK=aG.fileActionSettings,au=aG.otherActionButtons.replace(/\{dataKey}/g,aJ),aC=aw?aK.removeClass+" disabled":aK.removeClass;if(aF){av=aG._getLayoutTemplate("actionDelete").replace(/\{removeClass}/g,aC).replace(/\{removeIcon}/g,aK.removeIcon).replace(/\{removeTitle}/g,aK.removeTitle).replace(/\{dataUrl}/g,at).replace(/\{dataKey}/g,aJ)}if(aH){ay=aG._getLayoutTemplate("actionUpload").replace(/\{uploadClass}/g,aK.uploadClass).replace(/\{uploadIcon}/g,aK.uploadIcon).replace(/\{uploadTitle}/g,aK.uploadTitle)}if(aD){aE=aG._getLayoutTemplate("actionZoom").replace(/\{zoomClass}/g,aK.zoomClass).replace(/\{zoomIcon}/g,aK.zoomIcon).replace(/\{zoomTitle}/g,aK.zoomTitle)}if(az&&aI){aB="drag-handle-init "+aK.dragClass;aA=aG._getLayoutTemplate("actionDrag").replace(/\{dragClass}/g,aB).replace(/\{dragTitle}/g,aK.dragTitle).replace(/\{dragIcon}/g,aK.dragIcon)}return aL.replace(/\{delete}/g,av).replace(/\{upload}/g,ay).replace(/\{zoom}/g,aE).replace(/\{drag}/g,aA).replace(/\{other}/g,au)},_browse:function(au){var at=this;at._raise("filebrowse");if(au&&au.isDefaultPrevented()){return}if(at.isError&&!at.isUploadable){at.clear()}at.$captionContainer.focus()},_change:function(aH){var aA=this,aJ=aA.$element;if(!aA.isUploadable&&A(aJ.val())&&aA.fileInputCleared){aA.fileInputCleared=false;return}aA.fileInputCleared=false;var az,au,aK,ax=arguments.length>1,at=aA.isUploadable,aC=0,aF,aB,aD,av=ax?aH.originalEvent.dataTransfer.files:aJ.get(0).files,aG=aA.filestack.length,ay=A(aJ.attr("multiple")),aw=(ay&&aG>0),aE=0,aI=function(aL,aO,aM,aN){var aQ=S.extend(true,{},aA._getOutData({},{},av),{id:aM,index:aN}),aP={id:aM,index:aN,file:aO,files:av};return aA.isUploadable?aA._showUploadError(aL,aQ):aA._showError(aL,aP)};aA.reader=null;aA._resetUpload();aA._hideFileIcon();if(aA.isUploadable){aA.$container.find(".file-drop-zone ."+aA.dropZoneTitleClass).remove()}if(ax){az=[];while(av[aC]){aF=av[aC];if(!aF.type&&aF.size%4096===0){aE++}else{az.push(aF)}aC++}}else{if(aH.target.files===undefined){az=aH.target&&aH.target.value?[{name:aH.target.value.replace(/^.+\\/,"")}]:[]}else{az=aH.target.files}}if(A(az)||az.length===0){if(!at){aA.clear()}aA._showFolderError(aE);aA._raise("fileselectnone");return}aA._resetErrors();aD=az.length;aK=aA._getFileCount(aA.isUploadable?(aA.getFileStack().length+aD):aD);if(aA.maxFileCount>0&&aK>aA.maxFileCount){if(!aA.autoReplace||aD>aA.maxFileCount){aB=(aA.autoReplace&&aD>aA.maxFileCount)?aD:aK;au=aA.msgFilesTooMany.replace("{m}",aA.maxFileCount).replace("{n}",aB);aA.isError=aI(au,null,null,null);aA.$captionContainer.find(".kv-caption-icon").hide();aA._setCaption("",true);aA.$container.removeClass("file-input-new file-input-ajax-new");return}if(aK>aA.maxFileCount){aA._resetPreviewThumbs(at)}}else{if(!at||aw){aA._resetPreviewThumbs(false);if(aw){aA.clearStack()}}else{if(at&&aG===0&&(!t.count(aA.id)||aA.overwriteInitial)){aA._resetPreviewThumbs(true)}}}if(aA.isPreviewable){aA._readFiles(az)}else{aA._updateFileDetails(1)}aA._showFolderError(aE)},_abort:function(av){var at=this,au;if(at.ajaxAborted&&typeof at.ajaxAborted==="object"&&at.ajaxAborted.message!==undefined){au=S.extend(true,{},at._getOutData(),av);au.abortData=at.ajaxAborted.data||{};au.abortMessage=at.ajaxAborted.message;at.cancel();at._setProgress(101,at.$progress,at.msgCancelled);at._showUploadError(at.ajaxAborted.message,au,"filecustomerror");return true}return false},_resetFileStack:function(){var at=this,av=0,aw=[],au=[];at._getThumbs().each(function(){var az=S(this),ay=az.attr("data-fileindex"),ax=at.filestack[ay];if(ay===-1){return}if(ax!==undefined){aw[av]=ax;au[av]=at._getFileName(ax);az.attr({id:at.previewInitId+"-"+av,"data-fileindex":av});av++}else{az.attr({id:"uploaded-"+D(),"data-fileindex":"-1"})}});at.filestack=aw;at.filenames=au},clearStack:function(){var at=this;at.filestack=[];at.filenames=[];return at.$element},updateStack:function(av,au){var at=this;at.filestack[av]=au;at.filenames[av]=at._getFileName(au);return at.$element},addToStack:function(au){var at=this;at.filestack.push(au);at.filenames.push(at._getFileName(au));return at.$element},getFileStack:function(at){var au=this;return au.filestack.filter(function(av){return(at?av!==undefined:av!==undefined&&av!==null)})},getFilesCount:function(){var au=this,at=au.isUploadable?au.getFileStack().length:au.$element.get(0).files.length;return au._getFileCount(at)},lock:function(){var at=this;at._resetErrors();at.disable();if(at.showRemove){s(at.$container.find(".fileinput-remove"),"hide")}if(at.showCancel){at.$container.find(".fileinput-cancel").removeClass("hide")}at._raise("filelock",[at.filestack,at._getExtraData()]);return at.$element},unlock:function(au){var at=this;if(au===undefined){au=true}at.enable();if(at.showCancel){s(at.$container.find(".fileinput-cancel"),"hide")}if(at.showRemove){at.$container.find(".fileinput-remove").removeClass("hide")}if(au){at._resetFileStack()}at._raise("fileunlock",[at.filestack,at._getExtraData()]);return at.$element},cancel:function(){var au=this,aw=au.ajaxRequests,at=aw.length,av;if(at>0){for(av=0;av<at;av+=1){au.cancelling=true;aw[av].abort()}}au._setProgressCancelled();au._getThumbs().each(function(){var ay=S(this),ax=ay.attr("data-fileindex");ay.removeClass("file-uploading");if(au.filestack[ax]!==undefined){ay.find(".kv-file-upload").removeClass("disabled").removeAttr("disabled");ay.find(".kv-file-remove").removeClass("disabled").removeAttr("disabled")}au.unlock()});return au.$element},clear:function(){var at=this,au;at.$btnUpload.removeAttr("disabled");at._getThumbs().find("video,audio,img").each(function(){g(S(this))});at._resetUpload();at.clearStack();at._clearFileInput();at._resetErrors(true);at._raise("fileclear");if(at._hasInitialPreview()){at._showFileIcon();at._resetPreview();at._initPreviewActions();at.$container.removeClass("file-input-new")}else{at._getThumbs().each(function(){at._clearObjects(S(this))});if(at.isUploadable){t.data[at.id]={}}at.$preview.html("");au=(!at.overwriteInitial&&at.initialCaption.length>0)?at.initialCaption:"";at.$caption.html(au);at.$caption.attr("title","");s(at.$container,"file-input-new");at._validateDefaultPreview()}if(at.$container.find(d).length===0){if(!at._initCaption()){at.$captionContainer.find(".kv-caption-icon").hide()}}at._hideFileIcon();at._raise("filecleared");at.$captionContainer.focus();at._setFileDropZoneTitle();return at.$element},reset:function(){var at=this;at._resetPreview();at.$container.find(".fileinput-filename").text("");at._raise("filereset");s(at.$container,"file-input-new");if(at.$preview.find(d).length||at.isUploadable&&at.dropZoneEnabled){at.$container.removeClass("file-input-new")}at._setFileDropZoneTitle();at.clearStack();at.formdata={};return at.$element},disable:function(){var at=this;at.isDisabled=true;at._raise("filedisabled");at.$element.attr("disabled","disabled");at.$container.find(".kv-fileinput-caption").addClass("file-caption-disabled");at.$container.find(".btn-file, .fileinput-remove, .fileinput-upload, .file-preview-frame button").attr("disabled",true);at._initDragDrop();return at.$element},enable:function(){var at=this;at.isDisabled=false;at._raise("fileenabled");at.$element.removeAttr("disabled");at.$container.find(".kv-fileinput-caption").removeClass("file-caption-disabled");at.$container.find(".btn-file, .fileinput-remove, .fileinput-upload, .file-preview-frame button").removeAttr("disabled");at._initDragDrop();return at.$element},upload:function(){var av=this,au=av.getFileStack().length,az={},ax,ay,at,aw=!S.isEmptyObject(av._getExtraData());if(av.minFileCount>0&&av._getFileCount(au)<av.minFileCount){av._noFilesError(az);return}if(!av.isUploadable||av.isDisabled||(au===0&&!aw)){return}av._resetUpload();av.$progress.removeClass("hide");av.uploadCount=0;av.uploadStatus={};av.uploadLog=[];av.lock();av._setProgress(2);if(au===0&&aw){av._uploadExtraOnly();return}at=av.filestack.length;av.hasInitData=false;if(av.uploadAsync){ay=av._getOutData();av._raise("filebatchpreupload",[ay]);av.fileBatchCompleted=false;av.uploadCache={content:[],config:[],tags:[],append:true};av.uploadAsyncCount=av.getFileStack().length;for(ax=0;ax<at;ax++){av.uploadCache.content[ax]=null;av.uploadCache.config[ax]=null;av.uploadCache.tags[ax]=null}for(ax=0;ax<at;ax++){if(av.filestack[ax]!==undefined){av._uploadSingle(ax,av.filestack,true)}}return}av._uploadBatch();return av.$element},destroy:function(){var at=this,au=at.$container;au.find(".file-drop-zone").off();at.$element.insertBefore(au).off(j).removeData();au.off().remove();return at.$element},refresh:function(au){var at=this,av=at.$element;au=au?S.extend(true,{},at.options,au):at.options;at.destroy();av.fileinput(au);if(av.val()){av.trigger("change.fileinput")}return av},preview:function(){var at=this;return at.$preview},previewdata:function(){var at=this;return at.$preview.find(".kv-preview-data")},fileCaption:function(){var at=this;return at.$caption}};S.fn.fileinput=function(av){if(!H()&&!q(9)){return}var au=Array.apply(null,arguments),at=[];au.shift();this.each(function(){var ax=S(this),aB=ax.data("fileinput"),ay=typeof av==="object"&&av,aC=ay.theme||ax.data("theme"),aw={},az={},aD=ay.language||ax.data("language")||"en",aA;if(!aB){if(aC){az=S.fn.fileinputThemes[aC]||{}}if(aD!=="en"&&!A(S.fn.fileinputLocales[aD])){aw=S.fn.fileinputLocales[aD]||{}}aA=S.extend(true,{},S.fn.fileinput.defaults,az,S.fn.fileinputLocales.en,aw,ay,ax.data());aB=new r(this,aA);ax.data("fileinput",aB)}if(typeof av==="string"){at.push(aB[av].apply(aB,au))}});switch(at.length){case 0:return this;case 1:return at[0];default:return at}};S.fn.fileinput.defaults={language:"en",showCaption:true,showBrowse:true,showPreview:true,showRemove:true,showUpload:true,showCancel:true,showClose:true,showUploadedThumbs:true,browseOnZoneClick:false,autoReplace:false,previewClass:"",captionClass:"",mainClass:"file-caption-main",mainTemplate:null,purifyHtml:true,fileSizeGetter:null,initFun:null,initialCaption:"",initialPreview:[],initialPreviewDelimiter:"*$$*",initialPreviewAsData:false,initialPreviewFileType:"image",initialPreviewConfig:[],initialPreviewThumbTags:[],previewThumbTags:{},initialPreviewShowDelete:true,removeFromPreviewOnError:false,deleteUrl:"",deleteExtraData:{},overwriteInitial:true,layoutTemplates:a,previewTemplates:ad,previewZoomSettings:w,previewZoomButtonIcons:{prev:'<i class="glyphicon glyphicon-triangle-left"></i>',next:'<i class="glyphicon glyphicon-triangle-right"></i>',toggleheader:'<i class="glyphicon glyphicon-resize-vertical"></i>',fullscreen:'<i class="glyphicon glyphicon-fullscreen"></i>',borderless:'<i class="glyphicon glyphicon-resize-full"></i>',close:'<i class="glyphicon glyphicon-remove"></i>'},previewZoomButtonClasses:{prev:"btn btn-navigate",next:"btn btn-navigate",toggleheader:"btn btn-default btn-header-toggle",fullscreen:"btn btn-default",borderless:"btn btn-default",close:"btn btn-default"},preferIconicPreview:false,preferIconicZoomPreview:false,allowedPreviewTypes:ai,allowedPreviewMimeTypes:null,allowedFileTypes:null,allowedFileExtensions:null,defaultPreviewContent:null,customLayoutTags:{},customPreviewTags:{},previewSettings:ap,fileTypeSettings:ak,previewFileIcon:'<i class="glyphicon glyphicon-file"></i>',previewFileIconClass:"file-other-icon",previewFileIconSettings:{},previewFileExtSettings:{},buttonLabelClass:"hidden-xs",browseIcon:'<i class="glyphicon glyphicon-folder-open"></i>&nbsp;',browseClass:"btn btn-primary",removeIcon:'<i class="glyphicon glyphicon-trash"></i>',removeClass:"btn btn-default",cancelIcon:'<i class="glyphicon glyphicon-ban-circle"></i>',cancelClass:"btn btn-default",uploadIcon:'<i class="glyphicon glyphicon-upload"></i>',uploadClass:"btn btn-default",uploadUrl:null,uploadAsync:true,uploadExtraData:{},zoomModalHeight:480,minImageWidth:null,minImageHeight:null,maxImageWidth:null,maxImageHeight:null,resizeImage:false,resizePreference:"width",resizeQuality:0.92,resizeDefaultImageType:"image/jpeg",minFileSize:0,maxFileSize:0,maxFilePreviewSize:25600,minFileCount:0,maxFileCount:0,validateInitialCount:false,msgValidationErrorClass:"text-danger",msgValidationErrorIcon:'<i class="glyphicon glyphicon-exclamation-sign"></i> ',msgErrorClass:"file-error-message",progressThumbClass:"progress-bar progress-bar-success progress-bar-striped active",progressClass:"progress-bar progress-bar-success progress-bar-striped active",progressCompleteClass:"progress-bar progress-bar-success",progressErrorClass:"progress-bar progress-bar-danger",progressUploadThreshold:99,previewFileType:"image",elCaptionContainer:null,elCaptionText:null,elPreviewContainer:null,elPreviewImage:null,elPreviewStatus:null,elErrorContainer:null,errorCloseButton:'<span class="close kv-error-close">&times;</span>',slugCallback:null,dropZoneEnabled:true,dropZoneTitleClass:"file-drop-zone-title",fileActionSettings:{},otherActionButtons:"",textEncoding:"UTF-8",ajaxSettings:{},ajaxDeleteSettings:{},showAjaxErrorDetails:true};S.fn.fileinputLocales.en={fileSingle:"file",filePlural:"files",browseLabel:"Browse &hellip;",removeLabel:"Remove",removeTitle:"Clear selected files",cancelLabel:"Cancel",cancelTitle:"Abort ongoing upload",uploadLabel:"Upload",uploadTitle:"Upload selected files",msgNo:"No",msgNoFilesSelected:"No files selected",msgCancelled:"Cancelled",msgZoomModalHeading:"Detailed Preview",msgSizeTooSmall:'File "{name}" (<b>{size} KB</b>) is too small and must be larger than <b>{minSize} KB</b>.',msgSizeTooLarge:'File "{name}" (<b>{size} KB</b>) exceeds maximum allowed upload size of <b>{maxSize} KB</b>.',msgFilesTooLess:"You must select at least <b>{n}</b> {files} to upload.",msgFilesTooMany:"Number of files selected for upload <b>({n})</b> exceeds maximum allowed limit of <b>{m}</b>.",msgFileNotFound:'File "{name}" not found!',msgFileSecured:'Security restrictions prevent reading the file "{name}".',msgFileNotReadable:'File "{name}" is not readable.',msgFilePreviewAborted:'File preview aborted for "{name}".',msgFilePreviewError:'An error occurred while reading the file "{name}".',msgInvalidFileName:'Invalid or unsupported characters in file name "{name}".',msgInvalidFileType:'Invalid type for file "{name}". Only "{types}" files are supported.',msgInvalidFileExtension:'Invalid extension for file "{name}". Only "{extensions}" files are supported.',msgUploadAborted:"The file upload was aborted",msgUploadThreshold:"Processing...",msgValidationError:"Validation Error",msgLoading:"Loading file {index} of {files} &hellip;",msgProgress:"Loading file {index} of {files} - {name} - {percent}% completed.",msgSelected:"{n} {files} selected",msgFoldersNotAllowed:"Drag & drop files only! {n} folder(s) dropped were skipped.",msgImageWidthSmall:'Width of image file "{name}" must be at least {size} px.',msgImageHeightSmall:'Height of image file "{name}" must be at least {size} px.',msgImageWidthLarge:'Width of image file "{name}" cannot exceed {size} px.',msgImageHeightLarge:'Height of image file "{name}" cannot exceed {size} px.',msgImageResizeError:"Could not get the image dimensions to resize.",msgImageResizeException:"Error while resizing the image.<pre>{errors}</pre>",dropZoneTitle:"Drag & drop files here &hellip;",dropZoneClickTitle:"<br>(or click to select {files})",previewZoomButtonTitles:{prev:"View previous file",next:"View next file",toggleheader:"Toggle header",fullscreen:"Toggle full screen",borderless:"Toggle borderless mode",close:"Close detailed preview"}};S.fn.fileinput.Constructor=r;S(document).ready(function(){var at=S("input.file[type=file]");if(at.length){at.fileinput()}})}));
